<!DOCTYPE html>
<html style="width: 100%; height: 100%">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <title>GeomVis</title>

        <script src="geomvis.js" charset="utf-8"></script>
        <style>
            #vizcontainer {
                background: white;
                background-size: 40px 40px;
                background-image: linear-gradient(to right, lightgray 1px, transparent 1px), linear-gradient(to bottom, lightgray 1px, transparent 1px);
            }

            .pseudocode-line {
                color: black;
            }

            .pseudocode-currentline {
                background: yellow;
                border: 1px solid black;
            }

            .bottompanel-button {
                width: 120px;
            }
        </style>
    </head>
    <body id="body" class="row h-100" onload="geomvis.onLoad()">
        <!-- confirm discard current contents modal -->
        <div class="modal fade" id="confirmDiscardModal" tabindex="-1" role="dialog" aria-labelledby="confirmDiscardModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="confirmDiscardModal">Are you sure you want load a different input?</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        Current input will be lost.
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                        <button type="button" class="btn btn-warning" data-dismiss="modal" onclick="geomvis.discardModalConfirm()">Discard and load</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- algorithm picker -->
        <div id="leftpane" class="col-3" style="background: #bacdb0">
            <h1 id="title" class="display-3 text-center">GeomVis</h1>
            <ul class="list-group">
                <li class="list-group-item">
                    <div>Convex hull</div>
                </li>
                <li class="list-group-item">
                    <div>Line Segment Intersection</div>
                </li>
                <li class="list-group-item">
                    <div>Point in Polygon</div>
                </li>
                <li class="list-group-item">
                    <div>Cohen-Sutherland</div>
                </li>
                <li class="list-group-item">
                    <div>Sutherland-Hodgman</div>
                </li>
            </ul>
        </div>

        <!-- main content -->
        <div id="mainpanecontainer" class="col-9" style="background: lightgoldenrodyellow; padding: 0">
            <div id="topcontainer" class="position-absolute text-muted" style="top: 10px; pointer-events: none">
                <div id="headerbuttons" style="pointer-events: auto">
                    <button id="undobutton" type="button" class="btn btn-outline-dark" onclick="geomvis.undo()" disabled>
                        <i class="fas fa-undo"></i> Undo
                    </button>
                    <button id="redobutton" type="button" class="btn btn-outline-dark" onclick="geomvis.redo()" disabled>
                        <i class="fas fa-redo"></i> Redo
                    </button>
                </div>
                <div id="hinttext" style="-moz-user-select: none; -webkit-user-select: none; user-select: none">Click and drag to draw lines; Click lines to remove them<br>
                Hold Shift and click and drag the rectangle to move it</div>
            </div>
            <div id="vizcontainer" class="container-fluid h-100" style="color: initial; padding: 0"></div>
            <div id="bottompane" class="col-12 position-absolute" style="width: 875px; bottom: 10px; background: #eaf7cf; border-radius: 0.5em; border: 1px solid grey">
                <div class="row p-1" style="border-bottom: 1px solid grey">
                    <div class="col-4 btn-group">
                        <button id="loadbutton" type="button" class="btn btn-outline-dark bottompanel-button" onclick="fileuploader.click()">
                            <i class="fas fa-upload"></i> Load input
                        </button>
                        <input id="fileuploader" type="file" accept=".svg, .txt" style="display:none" onchange="geomvis.fileSelected()">
                        <button id="defaultbutton" type="button" class="btn btn-outline-dark bottompanel-button" onclick="geomvis.defaultInput()">
                            Default input
                        </button>
                    </div>
                    <div class="col-4 text-center">
                        <button id="executebutton" type="button" class="btn btn-outline-dark bottompanel-button" onclick="geomvis.computeSteps()">
                            <i class="fas fa-cogs"></i> Compute
                        </button>
                    </div>
                    <div class="col-4 btn-group text-right">
                        <button id="backbutton" type="button" class="btn btn-outline-dark bottompanel-button" disabled onclick="geomvis.back()">
                            <i class="fas fa-angle-left"></i> Back
                        </button>
                        <button id="playpausebutton" type="button" class="btn btn-outline-dark bottompanel-button" disabled onclick="geomvis.playPause()">
                            <i class="fas fa-play"></i> Play
                        </button>
                        <button id="forwardbutton" type="button" class="btn btn-outline-dark bottompanel-button" disabled onclick="geomvis.forward()">
                            <i class="fas fa-angle-right"></i> Next
                        </button>
                    </div>
                </div>
                <div class="row">
                    <div id="pseudocodepanel" class="col-6" style="border-right: 1px solid grey"></div>
                    <div id="steptextpanel" class="col-6">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</div>
                </div>
            </div>
        </div>
    </body>
</html>